 select * from reviews ORDER by CREATED_AT DESC LIMIT 5;

<% %w{ home mail }.each do |action| -%> 
<li> 
<%= link_to_unless_current(action.capitalize, :action => action, :id=>@guardian) %> 
</li> 
<% end -%></li>

@sel.get_eval('window.frames[1].js_close_custom_lightbox')

history | tail -n50 > /tmp/.snip | vi /tmp/.snip ~/.snippets
/usr/local/mysql/bin/mysql -h localhost -u site --password=code1T site_development < viewpointspro-prod-data-latest 
scp nkrimm@integration.hive.viewpoints.com:/usr/local/prod-repl/mysearspro/mysearspro-prod-data-latest.gz .
mysql -h localhost -u site --password=code1T mysearsdev < `zcat mysearspro-prod-data-latest.gz` 
mysqldump --all-databases -u site -p -h localhost > vp_all_db.mysql_dump
/mysql -h localhost -u site --password=code1T site_development < viewpointspro-prod-data-latest 
config.cache_classes
config.action_controller.perform_caching
#:svn diff --diff-cmd diff -x -uw -rPREV:HEAD admin.css

# get list of all layouts in use
find . -name "*rb" | xargs grep "layout ['\"]" . | awk '{print $3}' | sed "s/,$//" | sort | uniq

#:svn co svn+ssh://nkrimm@svn.hive.viewpoints.com/usr/local/svn/site/branches/bv_reviewer
/usr/sbin/apachectl

:: apache access logs

vpn in; ssh office.viewpoints.com; ssh www01.prod; cd /data01/web/viewpoints/current/log



:: util
nkrimm@util01.prod's password: 
[nkrimm@118178-app1 ~]$ cd /data01/archives/logs/hosts/www01.prod.viewpoints.com/weblogs


turn on caching in development:

development.rb:   config.action_controller.perform_caching             = false

patching a svn diff back: 
-i is input file
patch -p0 -i ~/fix_ugly_bug.diff


## Integration branching ##
so here's what you need to do
1.  ssh into hornet
2. sudo su - build
3.  ./bin/integration_branch mysearsint reload_database

you should probably cut and paste the new branch name from the stdout and email it out to tech in case folks need to place patches on it

## Integration updating ##
yes, checkout that branch locally.  then when you want to push to int do this as build from ~build:
./bin/integration_build mysearsint
in ~build there are 3 files (.current_branch_mysearsint, etc)
if you ever need to roll back to a different branch, you can just edit that file and rerun the build



merging:
 fishhook:~/src/viewpoints/branches/2009-08-16-r13345  
 #:svn merge -r13355:13356 svn+ssh://nkrimm@svn.hive.viewpoints.com/usr/local/svn/site/trunk/site


  prepend_view_path Rails.root + "/cobrands/app/views/"

restarting jabberbot:
yeah as the tinkerbell user
cd /data01/web/jabberbot/current/ && RAILS_ENV=production ./script/backgroundrb stop && sleep 10 && RAILS_ENV=production ./script/backgroundrb start

4:48:40 PM Leon Chism: control.akamai.com
4:49:00 PM Leon Chism: user is lchism1
4:49:19 PM Leon Chism: pword is leonis1



# show all of the layouts used in this webapp
grep -r ":layout" app | grep -v 'svn' | sed "s/.*\(:layout\)/\1/" | sort | uniq


# show all of the names of helpers in this application
cat profile_base_helper.rb  | grep "def" | sed -e "s/\s*def//" | sed -e "s/(.*/

build to int:  [build@hornet ~]$ ./bin/integration_build mysearsint


 mysql -u site -h disneyland -p

#what branch is in int
cat ~build/.current_branch_ssuint on hornet to find out though


#selenium_on_tinkerbell
from gnome ./bin/start_selenium.
restart gnome session:  /etc/init.d/selenium_X



[build@hornet ~]$ ~/bin/integration_build mysearsint



to log into tinkerbell and show selenium tests:
ssh -X nkrimm@tinkerbell


+  cas_host: <%= cas_host = "https://sso.sears.com" %>
+  cis_host: <%= cis_host = "https://accounts.sears.com" %>
+  base_uri: <%= cis_host %>/universalservices/v1
+  base_uri_v1_1: <%= cis_host %>/universalservices/v1.1
+  auth_path: <%= cas_host %>/shccas/shcLogin
+  validation_path: <%= cas_host %>/shccas/serviceValidate
+  logout_path: <%= cas_host %>/shccas/logout



manowar-wl:~/site/trunk/site  
> ssh nkrimm@util01.pro.viewpoints.com
nkrimm@util01.pro.viewpoints.com's password: 
Last login: Wed Oct 28 14:35:54 2009 from manowar-wl.office.viewpoints.com
[nkrimm@234776-app11 ~]$ cd /data02/archives/logs/hosts/www02.pro.viewpoints.com/mygofer/weblogs/

rdoc app/helpers/ -o public/doc

#svn propedit svn:ignore ./some_path
svn propedit svn:ignore bin



git log --author='sbro' --since='3 days' --oneline -p 

git format-patch SHA --stdout > patch.diff
git am < patch.diff

# requires tons of caching to be set on dev machine
./script/runner -e viewpointsdev AssetCache.build_cache


tests
#test 'should create a blog' do
#post :create, :blog => { :title => "My Blog." }
#assert_redirected_to blog_path(assigns(:blog))
#assert_select
#end


# email find recent emails in dev
select * from async_commands WHERE type="ETTriggeredSendAdd" ORDER BY created_at DESC limit 5;
#construct path to sample
http://craftsman.dev/email_contents/new_fan?cobrand=craftsman&uid=7&fid=8



ssh key
**** And the Wolf


https://members.exacttarget.com
username: kyle@viewpoints.com
password: Airstream@1


<<<<<<< Updated upstream
// to see which event types are being observed
Element.getStorage(yourElement).get('prototype_event_registry').keys();

// to get array of handlers for particular event type
Element.getStorage(yourElement).get('prototype_event_registry').get('click');

// to get array of all handlers
Element.getStorage(yourElement).get('prototype_event_registry').values();

// etc.



#find products with no reviews
Product.first :joins => "LEFT OUTER JOIN reviews ON reviews.product_id = products.id", :conditions => "reviews.product_id IS NULL"

# grab list of modified files in git
git st | grep modified | sed "s/.*:\s*\(.*\)/\1/"

rake test:units TEST=test/unit/user_test.rb 
rake test:functionals TEST=test/functional/users_controller_test.rb


sudo /etc/init.d/endeca start



# Get the aliases and functions
if [ -f ~/.bashrc ]; then
  . ~/.bashrc
fi
if [ -f ~/dotfiles/env/.alias ]; then
  . ~/dotfiles/env/.alias
fi

BASH_ENV=$HOME/.bashrc
USERNAME=""
export USERNAME BASH_ENV
export VISUAL=vim
export EDITOR=vim
export RAILS_ENV=viewpointsdev
export DISPLAY=0:0


PATH=/usr/local/bin:$PATH
PATH=$PATH:$HOME/bin
PATH=$PATH:$HOME/bin/spidermonkey
PATH=$PATH:$HOME/bin/ruby
#PATH=$PATH:/Applications/MacVim-7_2-stable-1_2  
PATH=$PATH:/usr/local/mysql/bin
PATH=$PATH:/opt/firefox/
export PATH
unset USERNAME
PS1="\n$:"

#PS1="\n \n \h:\w  \n\247:"
PS1="\n \n\h:\w  \n> "
source ~/.git_completion

if [ "\$(type -t __git_ps1)" ]; then
  export PS1="\n \n\h:\w  \n\$(__git_ps1 '(%s) '): "
fi


# perl global search and replace
# perl -i.bak -pe 's/<//g' `find . -name "*jsp"`


#get a backtrace of how something is called
  begin
  raise.
  rescue => e
  RAILS_DEFAULT_LOGGER.info "HEY CORY: #{e.backtrace}"
  end


 vi `git diff --name-only`


 du -sk name

 where name can be:
 the name of a file (gives size of file in kilobytes), or
 the name of a directory (gives size of directory, including subdirectories, in kilobytes), or
 an asterisk (gives size of all files and directories, including subdirectories, in current directory in kilobytes), or
 just enter du -sk without an argument (gives size of current directory, including subdirectories, in kilobytes).


git diff --no-prefix b24b259ed7bed673e3131f759d2f19bb9dd9cea2~1 b24b259ed7bed673e3131f759d2f19bb9dd9cea2 > cory-patch.txt


git diff --no-prefix > patchfile

then apply the patch:
patch -p0 < patchfile

Git man pages (Mac or VM)
curl http://kernel.org/pub/software/scm/git/git-manpages-1.6.6.1.tar.bz2 | sudo tar xj -C /usr/local/share/man -f - 

The git_completion shell extensions (Mac or VM)
curl "http://repo.or.cz/w/git.git?a=blob_plain;f=contrib/completion/git-completion.bash;hb=master" > ~/.git_completion

git config --global --add color.ui true
git config --global --add alias.ci commit
git config --global --add alias.co checkout
git config --global --add alias.br branch
git config --global --add alias.st status
git config --global --add alias.a add
git config --global --add alias.d rm
git config --global --add alias.sh show

buildadmin/Nextag101

#what's running on port 8080?
lsof -i :8080  # lsof is "list open files"

cap -T # will show you all of the available cap tasks
cap deploy:update  # push master to configured servers, but do not restart
cap deploy:update -s branch=unicorn_install  # push branch unicorn_install to configured servers
cap deploy:start # start servers
cap deploy:restart # restart servers


production jump host:  nkrimm@ssa1.pv.sv.nextag.com  #tmp Nextag66

(how to push md code) I thought of a way go to jenkins, sudo as jenkins then you can just ssh kato@ssa1.pv.sv.nextag.com then you can ssh to md1-5

git shortlog -n -s # show contributors
Orang3ric3753
ssh buildadmin@dev-build1.corp.nextag.com  #/Nextag101
echo "scale=2;3 / 1" | bc


ssh nkrimm@ssa1.pv.sv.nextag.com # Orang3ric3753

#delete all merged branches
 git branch --merged  | egrep -v "(^\*|master)" | xargs git branch -d 

 git push gerrit HEAD:refs/for/master



 (rack_app_for_thrift_tests) : jenkins
 buildadmin@dev-build1.corp.nextag.com's password: 
 Last login: Tue May  8 09:03:18 2012 from 172.23.6.111
 [buildadmin@dev-build1 ~]$ sudo su - jenkins
 [sudo] password for buildadmin: 
 [jenkins@dev-build1 ~]$ ssh kato@ssa2.pv.sv.nextag.com
 Last login: Tue May  8 09:03:42 2012 from 216.185.210.251
 [kato@ssa2 ~]$ ssh mb-app1
 Last login: Tue May  8 09:03:48 2012 from 10.28.24.2
 [kato@mb-app1 ~]$ 

NODE_PATH=/usr/local/lib/node_modules:/Users/Nik/dotfiles/node cucumber.js features/myFeature.feature

SVN user:rt_nik
https://radiotime.svn.cvsdude.com/Enterprise/RadioTime/trunk
https://radiotime.svn.cvsdude.com/Ops

#gbout
git log master.. --no-merges --format='%h | %an | %ad | %s' --date=local

C:\Users\Nik-Win7-VM\Desktop\tunin.com\platform\Bin\Community\Chutzpah>chutzpah.console ..>.>.\Web\TuneIn\TuneIn.Web.S
ite\assets\js\jasmine\TunerSpecRunner.html ..>.>.\Web\TuneIn\TuneIn.Web.Site\assets\js\jasmine\TunerEventSpecRunner.ht
ml

Team City: http://dev-app02:8888/overview.html

git log --numstat --pretty="%H" --author="Nik Krimm" rev1…rev2 | awk 'NF==3 {plus+=$1; minus+=$2} END {printf("+%d, -%d\n", plus, minus)}'

Hey Nik, the build was blocked on an error in the project file.  To see these in the future, RDP to dev-app02 and then navigate to c:\automation\tunein_redesign\continuousintegration and look at the build_dev.log.

var player = new FlashPlayer({ stream: new Stream({Url: "http://pub3.sky.fm/sky_the80s"}), parentNode: "body" });
player.render()

really shitty connection station: http://tunein.com/radio/Delta-FM-944-s141774/#debug=true

C:\Users\Nik-Win7-VM\Desktop\tunin.com\platform\Web\TuneIn\TuneIn.Web.Site>C:\Ruby187\bin\ruby.exe assets\selenium\tuner\plays_media_test.rb --verbose

you can mount as SMB, not nfs11:26
  Nicholas Krimmright now?Nicholas11:26
  Nicholas Krimm(checking it out!)checking11:26
	Mike Cook\\hostname\F$\path\to\log

	turn -Ilib test/test_all.rb


// Cool singleton pattern in JS
var singleton = new function() {
  var privateVar;

  this.publicMethod  = function () {}
  this.publicMethod2 = function () {}
};

localhost:3000/sessions/foo?user_name=msepcot

defaults write com.apple.screencapture location  ~/Desktop/screen_grabs


http://colinaarts.com/articles/the-magic-of-overflow-hidden/

stage db: dev-tracker01

COUNTER=0;for line in `cat web_ad_requests.txt`; do COUNTER=$[COUNTER + 1]; curl -o web_$COUNTER.json http://ads.tunein.com$line; done;

# regexp inplace in files
 for file in `ls *json`;do echo $file; ruby -pe 'gsub(/(jQuery[^{]*|\);$)/, $/)' < $file > $file.json2 ; done;

 # rename all files in a dir
 for file in `ls *json2`; do mv "$file" "${file/.json.json2/.json}"; done;

#replace inplace
 ruby -pi.bak -e "gsub(/oldtext/, 'newtext')" *.txt

 RAILS_ENV=development bundle exec rake assets:precompile

 rake spec SPEC=spec/path/to/my_spec.rb
 rake spec SPEC=spec/path/to/my_spec.rb#00 where 00 is the line number of a specific test

# curl status of build server http://dev-app02.tunein.corp:8888/httpAuth/app/rest/builds/19790/status, build 19790
http://dev-app02.tunein.corp:8888/httpAuth/app/rest/buildTypes/id:bt7/builds?count=1

gbin sequencer_elaboration | tail -2 | awk '{print $1}' | xargs git co

bundle exec rake db:migrate RAILS_ENV=test

git log --author="nik" --pretty=tformat: --numstat spec/javascripts | awk '{ add += $1 ; subs += $2 ; loc += $1 - $2 } END { printf "added lines: %s removed lines : %s total lines: %s\n",add,subs,loc }' -    

#delete merged branches
git branch --merged | grep -v "\*" | xargs -n 1 git branch -d

ssh-agent, ssh-add


awk '{print $11}' old_branches | xargs git push origin --delete

redis-server /usr/local/etc/redis.conf

sudo apachectl start


mysql> select U.id, GU.* from User U, Groups_Users GU where email='kmarren@signal.co' AND U.id = GU.user_id;
mysql> select U.id, AR.* from User U, AccountRole AR where email='kmarren@signal.co' AND U.id = AR.user_id;


cd ~/dev/brighttag/cadence/ci/
TESTENV=vagrant_hybrid BROWSER=firefox SKIPRESET=true cucumber features/login.feature:6
TESTENV=vagrant_hybrid BROWSER=firefox cucumber features/login.feature:6

java -jar selenium-server-standalone-2.43.0.jar

#restarting dead datahub
nkrimm@guestvm:~$ sudo rm /mnt/mongodb/mongod.lock 
nkrimm@guestvm:~$ sudo service mongodb start
nkrimm@guestvm:~$ b
bright@guestvm:~$ cd datahub/
bright@guestvm:~/datahub$ ./stop && ./start

FIXME by adding a check for empty guid

for branch in `git branch -r --merged | grep -v HEAD`; do echo -e `git show --format="%ci %cr %an" $branch | head -n 1` \\t$branch; done | sort -r

// show all events in jquery
$._data( $("#foo")[0], "events" );



// selenium
http://jenkins01of1:8080/jenkins/job/CadenceUI/2259/console
grid runs on jenkins
there's a ./startGrid.sh in bright's home dir
I think the cadence client is exclusively using the box by Kevin's desk
http://seleniumgrid:4444/


#reset all services on guestvm
btiab.service migrations && btiab.service datahub && btiab.service hiveway && btiab.service cookiehub && btiab.service segfire && btiab.service loghub


node debug $(which grunt) jasmine_node:all

karma start karma.conf.js --browsers=Chrome --single-run=false --debug

# update permissions
http://sagacity.stage.thebrighttag.com/users/nkrimm@signal.co


#to update configuration on staging box
ssh [username]@ops01st1
ssh cadence01st1
sudo puppetd -t
b # become bright user
cd ./cadence
./stop && ./start
cd ./fuse
./stop && ./start


see logs in prod:
ssh -A nkrimm@jump01ea1
ssh cadence01ea1
cd /mnt/log/cadence


when npm is down:
sinopia@rb:~$ nvm use v0.10.28
Now using node v0.10.28
sinopia@rb:~$ ./run_sinopia.sh



# curl a BrandConfig coming out of segfire
# from bright  user on guestvm
curl -s 'localhost:8081/brands/cBJbfsha/config' | jq '.'


for name in nkrimm kmarren sgravener alawry drashid achen kaye; do echo $name; git log --oneline --since=90.days.ago --committer=$name | wc -l; done


#make selenium run firefox in the background
you can edit Firefox.app/Contents/Info.plist
  <key>LSBackgroundOnly</key>
  <string>1</string></string></key>


ack -l 'req.t\(' | xargs ruby -pi -e 'gsub(/req.t\(/, "t\(")'

curl to test datahub
sshed into datahub02st1
drashid@datahub02st1:~$ curl -HFrom:drashid@signal.co localhost:8081/accounts/2/brands/c4yR3Xwy/segments/ctrtZyee | python -m json.tool


login with bad cookies
 curl --cookie-jar cookies.txt -H "Content-Type: application/json" -X POST http://localhost:3000/login -d "
 {\"username\": \"dkamen@segway.com\", \"password\": \"password\"}


 curl -H "Content-Type: application/json" -HFrom:drashid@signal.co -X PUT --data @forced-nestedness.json 23.253.40.18:8081/accounts/2/brands/c4yR3Xwy/segments/cZd4J8P3
 that ip is datahub01st1, if you're wondering. it'll replicate to the others


// to get a directory on a dns'ed box to show up as a simple file server
I just ran 'python -m SimpleHTTPServer 9999' in that directory, good little one liner to keep handy

mysql datahub -hbtiab05ci5 -ubright -pdatahub

// datahub logs
nkrimm@guest01vg1:~$ tail -f /mnt/log/datahub/datahub.0.log


// connect to the windows vm
Get Chicken of the VNC. OS X's built-in remote desktop client doesn't work for some reason. Sorry Charney, haven't tested Linux options.

Host: 10.111.254.194
Password: oneforall


